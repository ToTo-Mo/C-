11 클래스의 활용
===

# 1. 객체의 동적 생성

일반 변수와 마찬가지로 객체도 정적 메모리 할당이나 동적 메모리 할당을 이용하여 생성할 수 있습니다. 

```c++
Car myCar;              // 정적 할당
Car *pCar = new Car();  // 동적 할당
```

객체 포인터를 사용하여 멤버들에 접근할 때는 -> 연산자를 사용합니다.

```c++
pCar->setSpeed(100);
cout<<pCar->getSpeed()<<endl;
```

객체 포인터라고 해서 동적 할당만 하는 것이 아니라 아래와 같이 정적 객체의 주소도 가질 수 있습니다.

```c++
Car myCar;
Car *pCar = &myCar; //myCar의 주소를 pCar에 대입
```

```c++
#include <iostream>
#include <string>
using namespace std;

class Car {
       int speed;
       int gear;
       string color;
 public:
       Car(int s=0, int g=1, string c="white") : speed(s), gear(g), color(c) {
       }
		void display();
};
void Car::display()
{
	cout << "속도: " << speed << " 기어: " << gear << " 색상: " << color << endl;
}

int main()
{
	Car myCar;			// 정적 메모리 할당으로 객체 생성
	myCar.display();

	Car *pCar = &myCar;		// 객체 포인터로 객체를 가리키게 함
	pCar->display();

	pCar = new Car(0, 1, "blue");		// 동적 메모리 할당으로 객체 생성
	pCar->display();
	return 0;
}		
```

# 2. this 포인터

this는 자기 자신을 가리키는 객체 포인터입니다. 클래스의 멤버 함수들은 여러 객체들 사이에서 공유 됩니다. 따라서 현재 실행하고 있는 객체가 누구인지 모르는 경우가 종종 있습니다. 이런 경우에 this를 사용하면 현재 문장을 실행하는 객체를 알 수 있습니다.

this는 컴파일러에 의하여 자동으로 생성되므로 별도로 선언할 필요가 없습니다. 특히 멤버 변수를 사용할 때는 암묵적으로 컴파일러는 this->를 붙이고 있습니다. this는 특히 멤버 변수의 이름과 매개 변수의 이름이 동일할 때 구분하기 위하여 자주 사용됩니다.  앞의 Car 클래스에서 setter 함수를 다음과 같이 작성할 수 있습니다.

```c++
void Car::setSpeed(int speed){
    this->speed = speed;
}
```

때로는 매개 변수로 자기 자신을 넘겨주어야 할 때 사용할 수 도 있습니다.

```c++
func(this);
```

## 예제 Person

```c++
#include <iostream>
#include <string>
using namespace std;

class Person {
	string lastName;
	string firstName;
public:
	Person(string lastName, string firstName);
	string getLastName() {
		return lastName;
	};
	string getFirstName() {
		return firstName;
	}
	string buildName();
};
Person::Person(string lastName, string firstName) 
{
	this->lastName = lastName; 	// this는 현재 객체를 가리킨다.
	this->firstName = firstName; 	// this는 현재 객체를 가리킨다.
} 
string Person::buildName() {
	return this->getLastName() + this->getFirstName();	// ①
}
int main()
{
	Person person("홍", "길동");
	cout << person.buildName() << endl;
}
```

## 중간점검

1. this 포인터는 무엇을 가리키는가?
2. this 포인터가 꼭 필요한 경우는?

# 3. const 수식자



# 4. 객체와 연산자

# 5. 객체와 함수

# 6. 정적 멤버

# 7. 객체들의 배열

# 8. 클래스와 클래스 간의 관계

# 9. 예제