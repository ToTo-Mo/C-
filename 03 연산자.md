03 연산자
===

# 1. 대입 연산자

대입 연산자자는 앞서 변수 초기화에서 보았던 = 기호를 사용합니다. 수학에서는 = 연산자가 같다라는 의미이지만 c++에서는 대입한다라는 의미로 사용됩니다.

```c++
int a = 123;
float b = 2.34f;
double c = 3.45;

int d = 10, e = 20;
d = e = 20;
```

# 2. 사칙 연산자

사칙 연산자는 우리가 잘 알고 있는 +(덧셈), -(뺄셈) , *(곱셈), /(나눗셈) 입니다.

c++에서는 추가적으로 % 연산자가 있습니다. %는 나눗셈의 나머지를 계산합니다.

```c++
int add = 1 + 1;
int sub = 2 - 1;
int mul = 3 * 10;
int div = 10 / 3;
int rest = 10 % 3;
```

추가적으로 int 형은 정수이기 때문에 10 / 3을 하면 몫이 3.333이 아닌 3이 나오게 됩니다. 3.333으로 표현하기 위해서는 분모와 분자중 실수형이 포함되어야 합니다.

```c++
cout<<10.0 / 3<<endl;
```

또한 대입 연산자와 사칙연산자를 이용해서 기존 변수의 값을 변경할 수도 있습니다.

```c++
int a = 2;
a = a + 2;
a = a * 2;
a = a / 2;
a = a % 2;
```

## 축약 연산자

```c++
int value = 2;
int a = 2;

a += value;
a -= value;
a *= value;
a %= value;
```

# 3. 증감연산자

```c++
int a = 1;
a++;        //후위 연산자
++a;        //전위 연산자

a--;        //후위 연산자
--a;        //전위 연산자
```

전위 연산자는 다음 연산을 수행하기 전에 일어나며, 후위 연산자는 다음 연산을 수행한 이후에 일어납니다.

```c++
#include <iostream>
using namespace std;

int main()
{
	int a = 2;
	a = ++a * 20;
	cout << a << endl;

	a = 2;

	a = a++ * 20;
	cout << a << endl;
}
```

> 결과

    60
    41

컴퓨터의 연산은 단계적으로 진행되기 때문에 전위 증가과 후위 증감의 연산결과가 다르다는 것을 꼭 주의해야 합니다.

# 4. 관계 연산자

관계 연산자는 두 수의 관계를 true(1)와 false(0)로 나타냅니다.

연산자기호|의미|사용예
:-:|:-:|---
==|x와 y가 같은가? | x == y
!=|x와 y가 다른가? | x != y
₩> |x가 y보다 큰가? | x > y
₩< |x가 y보다 작은가? | x < y
₩>= |x가 y보다 크거나 같은가?|x>=y
₩<=|x가 y보다 작거나 같은가?|x<=y

```c++
#include <iostream>
using namespace std;

int main()
{
	int x=10, y=20;
	bool r1, r2, r3, r4;
	
	r1 = (x == y);
	r2 = (x != y);
	r3 = (x >= y);
	r4 = (x <= y);

	cout << r1 << endl;
	cout << r2 << endl;
	cout << r3 << endl;
	cout << r4 << endl;

	return 0;
}
```

## 문제

(3 >= 2) + 5 = ?

# 5. 논리 연산자

논리 연산자는 여러 개의 조건을 조합하여 참인지 거짓인지를 따질 때 사용합니다. 

연산자기호|사용 예|의미
:---:|:---:|:---
&&|x && y|AND 연산으로, x와 y가 모두 참이면 참, 그렇지 않으면 거짓
\|\| |x \|\| y |OR 연산으로, x나 y 중 하나만 참이면 참, 모두 거짓이면 거짓
! | !x | NOT연산으로, x가 참이면 거짓, x가 거짓이면 참

## 단축계산

논리 연산자를 사용할 때 주의할점이 있습니다. AND 연산자의 경우에 여러 개의 피연산자 중에서 하나라도 거짓이면 다른 피연산자들은 계산되지 않습니다. 왜냐하면 AND는 어떠한 하나라도 거짓이면 전체 결과는 거짓이기 때문입니다. 예르들어 다음 수식은 ( 2 > 3)이 거짓이기 때문에 (++x < 5)는 계산하지 않으며, 결과는 거짓이 된다.

> ( 2 > 3) && (++x < 5)

이와 마찬가지로 OR 연산자도 여러 개의 피연산자 중 하나라도 참이면 다른 피연산자는 계산되지 않습니다.

```c++
#include <iostream>
using namespace std;

int main()
{
	int x=10, y=20;
	bool r1, r2, r3, r4;
	
	r1 = (x == 10 && y == 20);
	r2 = (x == 10 && y == 30);
	r3 = (x >= 10 || y >= 30);
	r4 = !(x == 5);

	cout << r1 << endl;
	cout << r2 << endl;
	cout << r3 << endl;
	cout << r4 << endl;

	return 0;
}
```

> 만약 값이 음수이면 참일까 거짓일까?
>
> 결과 : c++에서는 0이 아니면 무조건 참으로 간주되므로, 음수도 참이 됩니다.

## 예제

해당 연도가 윤년인지 아닌지 판별해보자. 윤년은 다음의 조건을 만족해야 합니다.

1. 연도가 4로 나누어 떨어진다.
2. 100으로 나누어 떨어지는 연도는 제외한다.
3. 400으로 나누어 떨어지는 연도는 윤년이다.

```c++
#include <iostream>
using namespace std;

int main()
{
	int year;
	bool isLeapYear;

	cout<<"연도를 입력하세요 : ";
	cin>>year;

	isLeapYear = (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
	cout<<(bool)isLeapYear<<endl;

	return 0;
}
```

# 6. 조건 연산자

조건 연산자는 c++에서 유일하게 3개의 피연산자를 가지는 삼항 연산자입니다. 

```c++
exp1 ? exp2 : exp3
```

exp1가 참이면 수식의 결과는 exp2가 되며, exp1가 거짓이면 수식의 결과는 exp3가 됩니다.

<img src="img/03%20조건%20연산자.png" width="30%">

```c++
int x = 20, y = 30;

max = ( x > y) ? x : y;
min = ( x < y) ? y : x;
```

# 7. 연산자 우선순위와 결합 규칙

만약 아래와 같이 하나의 수식이 2개 이상의 연산자를 가지고 있을 경우에는 어떤 연산자가 먼저 수행될까요? 

```c++
result = 2 + 5 * 3;
```

수학에서 배웠듯이 곱셈과 나눗셈이 덧셈과 뺄셈보다 먼저 수행되어야 한다고 배웠습니다. 그렇기 때문에 result는 17이 되겟죠. 

c++ 에서는 앞서 배운 연산자들 중에서 어떤 연산을 먼저 수행할지 결정하는 규칙을 제공합니다. 각 연산자들은 우선순위가 있습니다. 산술연산( + , -, *, /, %)은 수학에서 배웠던 것과 동일한 우선순위를 따릅니다. 

<img src="img/03%20산술연산자%20우선순위.png" width="30%">

만약 사용자가 직접 연산의 우선순위를 지정하려면 수학에서 배웟듯이 소괄호()를 이용하면 됩니다.

```c++
result = (2+5) * 3;
```

## 연산자 우선순위

우선순위 | 연산자 | 결합규칙
:---:|:---:|:---:
1|() [] -> . ++(후위) --(후위)| 좌에서 우로
2|sizeof() &(주소) ++(전위) --(전위) ~ ! *(역참조) +(부호) -(부호) 형번환|우에서 좌로
3|*(곱셈) / %|좌에서 우로
4|+(덧셈) -(뺄셈)|좌에서 우로
5|<< >> |좌에서 우로
6|< <= >= >|좌에서 우로
7|== !=|좌에서 우로
8|&(비트연산)|좌에서 우로
9|^|좌에서 우로
10| \| |좌에서 우로
11|&&|좌에서 우로
12|\|\| |좌에서 우로
13|?(삼항) |우에서 좌로
14|= += *= /= %= &= ^= \|= <<= >>=|우에서 좌로
15|,(콤마)|좌에서 우로

## 연산자 결합규칙

같은 우선순위를 가지는 연산자들이 여러 개가 있으면 어떤 것을 먼저 수행할까요? 이것은 연산자 마다 다른데, 산술 연산자의 경우에는 왼쪽에서 오른쪽으로 연산이 수행됩니다.

```c++
result = 2 * 5 % 3;
```

2 * 5를 먼저하고 그다음에 % 3을 하기에 결과는 1이 나오게 됩니다. 이런 것을 보고 연산자의 결합규칙이라고 합니다.

- 왼쪽 우선 결합규칙 : 같은 우선순위를 가지는 연산자들을 왼쪽에서 오른쪽으로 수행하는 것을 말한다.
- 오른쪽 우선 결합규칙 : 같은 우선순위를 가지는 연산자들을 오른쪽에서 왼쪽으로 수행하는 것을 말한다.

왼쪽 우선 결합규칙과 오른쪽 우선 결합규칙에 대해 알아봤으니, 다음 수식을 한번 살펴보자. 아래 수식의 연산 방향을 어떻게 될까? 

```c++
x = y = z = 5;
```

=(대입) 연산자는 오른쪽에서 왼쪽으로 진행되므로 z = 5가 먼저 수행되고 차례대로 y = z, x = y가 수행됩니다. 아래의 문장에서도 연산자 우선순위에 따라 다음과 같이 수행됩니다.

```c++
y = a % b / c + d * (e - f);
  6   2   3   5   4    1
```

## 예제

```c++
#include <iostream>
using namespace std;

int main()
{
	int x=0, y=0, z=0;

	cout << (2 > 3 || 6 > 7) << endl;
	cout << (2 || 3 && 3 > 2) << endl;
	cout << (x = y = z = 1) << endl;
	cout << (- ++x + y--) << endl;

	return 0;
}
```

# 8. 형변환

형변환이란 char형의 값이 int형으로 변환되거나 int형 값이 double형 값으로 변환되는 것과 같이 데이터의 형이 변환되는 것을 의미합니다. 형변환은 크게 두가지로 나뉩니다.

1. 명시적 형변환
2. 묵시적(자동적) 형변환


## 묵시적 형변환

예를 들어 아래 코드는 대입 연산시에 높은 등급의 자료형에서 낮은 등급의 자료형으로 변환되는 내림 형변환이 발생합니다.

```c++
int i;
i = 3.141592;		//i에는 3이 저장됩니다.
```

위와 같은 형변환은 자동적으로 이루어지는 것이므로 묵시적 형변환이라고 합니다. 만약에 하나의 수식에서 서로 다른 자료형이 사용되면 **그 중에서 가장 높은 등급(가장 표현 범위가 넓은) 자료형으로 자동적으로 변환**됩니다. 그 이유는 데이터의 손실을 막기 위해서 입니다.

<img src="img/02%20형변환.png" width="20%">

## 명시적 형변환

사용자가 때에 따라서는 직접 형변환을 해야 하는 경우도 있습니다. 그럴 때는 형변환(type cast) 연산자를 이용할 수 있습니다. 형변환 연산자는 영어 그대로 캐스트 연산자라고도 합니다.

> (자료형) 상수
>
> (자료형) 변수

아래 예제를 보면서 명시적 형변환에 대해서 더 자세히 분석해보자.

```c++
int i;
double f;

f = 5 / 4;					// f = 1		5와 4는 int형 이기 때문에 5와 4를 나눈 결과 또한 int형이 되어 1.25가 아닌 1이다.
f = (double)5 / 4;			// f = 1.25		5는 double로 형변화이 이루어졌기 때문에 5와 4를 나눌때 4는 double로 묵시적 형변환이 일어난다.
f = 5 / (double)4;			// f = 1.25		4는 double로 형변화이 이루어졌기 때문에 5와 4를 나눌때 5는 double로 묵시적 형변환이 일어난다.
f = (double)5 / (double)4;	// f = 1.25		둘다 형변환을 하였기에 1.25가 나온다.

i = 1.3 + 1.8;				// i = 3		1.3 + 1.8의 계산 결과는 3.1 이지만, i는 int형 이기 때문에 3이 저장된다.
i = (int)1.3 + (int)1.8		// i = 2		double인 1.3과 1.8을 int형으로 명시적 형변환을 하였기에 둘다 1로 변환되어 계산 결과는 2가 된다. 
```
